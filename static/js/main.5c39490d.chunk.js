(this.webpackJsonptrello=this.webpackJsonptrello||[]).push([[0],{35:function(t,e,n){t.exports=n(60)},48:function(t,e,n){},49:function(t,e,n){},50:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){},55:function(t,e,n){},56:function(t,e,n){},57:function(t,e,n){},58:function(t,e,n){},59:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(8),r=n.n(o),i=n(17),s=n(5),u=n(13),l=n(28),d=n(3),f=n(2),m=n(6),p={lists:[]},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.lists,e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.listId,c=e.title,o=e.boardId,r=e.lists,i=e.newId;switch(n){case"ADD_LIST":return[].concat(Object(m.a)(t),[[a,{title:c,boardId:o}]]);case"REMOVE_LIST":return Object(m.a)(t).filter((function(t){return Object(f.a)(t,1)[0]!==a}));case"EDIT_LIST_TITLE":return t.map((function(t){var e=t[0],n=t[1];return e===a?[e,Object(d.a)(Object(d.a)({},n),{},{title:c})]:t}));case"EDIT_LIST_ID":return t.map((function(t){var e=t[0],n=t[1];return e===a?[i,n]:t}));case"SET_LISTS":return r;default:return t}},h={tasks:[]},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.tasks,e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.listId,c=e.id,o=e.title,r=e.checked,i=e.tasks,s=e.newId;switch(n){case"ADD_TASK":return[].concat(Object(m.a)(t),[[c,{listId:a,title:o,checked:r}]]);case"REMOVE_TASK":return t.filter((function(t){return t[0]!==c}));case"CHECK_TASK":return t.map((function(t){var e=t[0],n=t[1];return e===c?[e,Object(d.a)(Object(d.a)({},n),{},{checked:!n.checked})]:t}));case"MOVE_TASK":return t.map((function(t){var e=t[0],n=t[1];return e===c?[e,Object(d.a)(Object(d.a)({},n),{},{listId:a})]:t}));case"EDIT_TASK_TITLE":return t.map((function(t){var e=t[0],n=t[1];return e===c?[e,Object(d.a)(Object(d.a)({},n),{},{title:o})]:t}));case"EDIT_TASK_ID":return t.map((function(t){var e=t[0],n=t[1];return e===c?[s,Object(d.a)({},n)]:t}));case"DELETE_TASKS":return t.filter((function(t){return Object(f.a)(t,2)[1].listId!==a}));case"SET_TASKS":return i;default:return t}},E={boards:[]},v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.boards,e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.title,c=e.boardId,o=e.boards,r=e.newId;switch(n){case"ADD_BOARD":return[].concat(Object(m.a)(t),[[c,{title:a}]]);case"REMOVE_BOARD":return Object(m.a)(t).filter((function(t){return Object(f.a)(t,1)[0]!==c}));case"EDIT_BOARD_ID":return t.map((function(t){var e=t[0],n=t[1];return e===c?[r,n]:t}));case"SET_BOARDS":return o;default:return t}},T=Object(u.load)({namespace:"todo-data"}).user||{token:"",id:""};T.token&&void 0!==T.token||(T.token=""),T.id&&void 0!==T.id||(T.id=""),T.refreshToken&&void 0!==T.refreshToken||(T.refreshToken="");var O,j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.token,c=e.id,o=e.refreshToken;switch(n){case"SET_USER_TOKEN":return Object(d.a)(Object(d.a)({},t),{},{token:a});case"SET_USER_ID":return Object(d.a)(Object(d.a)({},t),{},{id:c});case"SET_USER_REFRESH_TOKEN":return Object(d.a)(Object(d.a)({},t),{},{refreshToken:o});case"LOGOUT_USER":return Object(d.a)(Object(d.a)({},t),{},{id:"",token:"",refreshToken:""});default:return t}},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.currentTask;switch(n){case"SET_CURRENT_TASK":return a;default:return t}},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=e.type,a=e.currentList;switch(n){case"SET_CURRENT_LIST":return a;default:return t}},S=Object(s.c)({lists:b,tasks:k,boards:v,user:j,currentTask:I,currentList:y}),g=s.d,C=(O={},Object(s.e)(S,O,g(Object(s.a)(Object(u.save)({namespace:"todo-data"}),l.a)))),N=(n(48),n(62)),_=n(31),L=function(t){return{type:"SET_USER_TOKEN",token:t}},D=function(t){return{type:"SET_USER_ID",id:t}},A=function(t){return{type:"SET_USER_REFRESH_TOKEN",refreshToken:t}},w="AIzaSyDL75b9bD07bmPWk7eN7VsoDZitkHdPTus",R="https://to-do-trello.firebaseio.com/",B=function(t){return"object"===typeof t&&null!==t&&void 0!==t},K=function(t){return B(t)&&"Auth token is expired"===t.error},U=!1,P=function(){return function(t,e){if(!U){U=!0,setTimeout((function(){U=!1}),6e5);var n=e().user.refreshToken;fetch("https://securetoken.googleapis.com/v1/token?key=".concat(w),{method:"POST","Content-Type":"application.json",body:JSON.stringify({grant_type:"refresh_token",refresh_token:n})}).then((function(t){return t.json()})).then((function(e){t(L(e.id_token)),t(A(e.efresh_token)),t(J()),t(H()),t(M())}))}}},J=function(){return function(t,e){var n=e().user,a=n.id,c=n.token;fetch("".concat(R,"users/").concat(a,"/tasks.json?auth=").concat(c),{method:"GET","Content-Type":"application/json"}).then((function(t){return t.json()})).then((function(e){return K(e)?t(P()):e})).then((function(e){B(e)&&t({type:"SET_TASKS",tasks:Object.entries(e)})}))}},H=function(){return function(t,e){var n=e().user,a=n.id,c=n.token;fetch("".concat(R,"users/").concat(a,"/lists.json?auth=").concat(c),{method:"GET","Content-Type":"application/json"}).then((function(t){return t.json()})).then((function(e){return K(e)?t(P()):e})).then((function(e){B(e)&&t({type:"SET_LISTS",lists:Object.entries(e)})}))}},M=function(){return function(t,e){var n=e().user,a=n.id,c=n.token;fetch("".concat(R,"users/").concat(a,"/boards.json?auth=").concat(c),{method:"GET","Content-Type":"application/json"}).then((function(t){return t.json()})).then((function(e){return K(e)?t(P()):e})).then((function(e){B(e)&&t({type:"SET_BOARDS",boards:Object.entries(e)})}))}},V=n(15),x=n.n(V),G=(n(49),function(t){var e=t.children,n=t.onClick,a=t.className,o=t.invert,r=x()("btn",{invert:o},a);return c.a.createElement("button",{className:r,type:"button",onClick:n},e)});G.defaultProps={invert:!1,className:""};var W=G,F=(n(50),window.innerWidth<375?"small":""),z=function(t){var e=t.children;return c.a.createElement("div",{className:"to-do-header ".concat(F)},e)};z.defaultProps={children:null};var X=z,Z=n(64),q=n(63),Q="Item",Y=(n(51),function(t){var e=t.title,n=t.id,a=t.checked,o=t.checkTask,r=t.removeTask,i=t.onTaskClick,s=x()("to-do-item",{checked:a}),u=Object(q.a)({item:{itemId:n,type:Q},collect:function(t){return{isDragging:t.isDragging()}}}),l=Object(f.a)(u,2),d=l[0].isDragging,m=l[1],p=d?{opacity:.7}:{};return c.a.createElement("div",{className:s,ref:m,style:p},c.a.createElement("button",{className:"to-do-item-check",type:"button",onClick:function(){return o({id:n})}},"check task"),c.a.createElement("button",{className:"to-do-item-text",type:"button",onClick:function(){return i(n)}},e),c.a.createElement("button",{className:"to-do-item-delete",type:"button",onClick:function(){return r({id:n})}},"\xd7"))});Y.defaultProps={title:"Title",checked:!1};var $=Y,tt=(n(52),window.innerWidth<375?"small":""),et=function(t){var e=t.listId,n=t.title,a=t.tasks,o=t.onAddTask,r=t.removeTask,i=t.removeList,s=t.checkTask,u=t.onItemDrop,l=t.onTaskClick,d=t.onOpenListInfo,m=Object(Z.a)({accept:Q,drop:function(t){return u(t,e)},collect:function(t){return{isOver:t.isOver(),canDrop:t.canDrop()}}}),p=Object(f.a)(m,2),b=p[0],h=b.canDrop,k=b.isOver,E=p[1],v=h&&k?"#32EB40":"gray";return c.a.createElement("div",{className:"to-do-list ".concat(tt),key:e,ref:E},c.a.createElement("h3",{className:"to-do-list-title"},n),c.a.createElement("button",{className:"to-do-list-info-btn",type:"button",onClick:function(){return d(e)}},"\u270e"),c.a.createElement("div",{className:"to-do-list-buttons"},c.a.createElement(W,{className:"to-do-add-task",onClick:function(){return o(e)}},"add task"),c.a.createElement(W,{className:"to-do-remove-list",invert:!0,onClick:function(){return i(e)}},"remove list")),a.filter((function(t){return Object(f.a)(t,2)[1].listId===e})).map((function(t){var e=Object(f.a)(t,2),n=e[0],a=e[1],o=a.title,i=a.checked;return c.a.createElement($,{id:n,title:o,key:n,checked:i,removeTask:r,checkTask:s,onTaskClick:l})})),h&&c.a.createElement("div",{className:"to-do-can-drop-item",style:{background:v}}))};et.defaultProps={title:"Title is not defined"};var nt=et,at=n(29),ct=n(30),ot=n(33),rt=n(32),it=function(t){Object(ot.a)(n,t);var e=Object(rt.a)(n);function n(){var t;return Object(at.a)(this,n),(t=e.call(this)).el=document.createElement("div"),t}return Object(ct.a)(n,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){var t=this.props.children;return r.a.createPortal(t,this.el)}}]),n}(a.Component),st=(n(53),function(t){var e=t.children,n=t.accepting,a=t.onAccept,o=t.onCancel,r=t.isOpen;return c.a.createElement(c.a.Fragment,null,r&&c.a.createElement(it,null,c.a.createElement("div",{className:"modal-wrapper",onClick:function(t){t.persist(),-1!==t.target.className.indexOf("modal-wrapper")&&o()}},c.a.createElement("div",{className:"modal"},c.a.createElement("button",{className:"modal-close-btn",type:"button",onClick:o},"X"),c.a.createElement("div",{className:"modal-inner"},e),n&&c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"modal-accept",type:"button",onClick:a},"accept"),c.a.createElement("button",{className:"modal-define",type:"button",onClick:o},"cancel"))))))});st.defaultProps={accepting:!1,onAccept:function(){},onCancel:function(){}};var ut=st,lt=(n(54),function(t){var e=t.isOpen,n=t.onAccept,o=t.onCancel,r=Object(a.useState)(""),i=Object(f.a)(r,2),s=i[0],u=i[1];return c.a.createElement(ut,{isOpen:e,onCancel:o},c.a.createElement("div",{className:"modal-add-list"},c.a.createElement("input",{type:"text",className:"input-title",value:s,onChange:function(t){var e=t.target.value;return u(e)}}),c.a.createElement("button",{className:"modal-add-list-btn",type:"button",onClick:function(){n(s),o(),u("")}},"add")))});lt.defaultProps={isOpen:!1};var dt=lt,ft=(n(55),function(t){var e=t.isOpen,n=t.onAccept,o=t.onCancel,r=Object(a.useState)(""),i=Object(f.a)(r,2),s=i[0],u=i[1];return c.a.createElement(ut,{onCancel:o,isOpen:e},c.a.createElement("div",{className:"modal-add-task"},c.a.createElement("div",{className:"add-task-form"},c.a.createElement("input",{type:"text",className:"add-task-title",value:s,onChange:function(t){var e=t.target.value;return u(e)}}),c.a.createElement("button",{className:"modal-add-task-btn",type:"button",onClick:function(){n(s),o(),u("")}},"add"))))});ft.defaultProps={isOpen:!1};var mt=ft,pt=(n(56),function(t){var e=t.isOpen,n=t.onAccept,o=t.onCancel,r=Object(a.useState)(""),i=Object(f.a)(r,2),s=i[0],u=i[1];return c.a.createElement(ut,{onCancel:o,isOpen:e},c.a.createElement("div",{className:"modal-add-board"},c.a.createElement("div",{className:"add-board-form"},c.a.createElement("input",{type:"text",className:"add-board-title",value:s,onChange:function(t){var e=t.target.value;return u(e)}}),c.a.createElement("button",{className:"modal-add-board-btn",type:"button",onClick:function(){n(s),o(),u("")}},"add"))))});pt.defaultProps={isOpen:!1};var bt=pt,ht=function(t){var e=t.isOpen,n=t.taskId,o=t.onClose,r=t.onEditTitle,i=t.fetchTask,s=t.currentTask,u=Object(a.useState)(null),l=Object(f.a)(u,2),d=l[0],m=l[1];Object(a.useEffect)((function(){n&&i({taskId:n})}),[n]),Object(a.useEffect)((function(){s&&m(s.title)}),[s]);return c.a.createElement(ut,{isOpen:e,onCancel:o},c.a.createElement("div",{className:"modal-task-info"},c.a.createElement("div",{className:"task-info"},c.a.createElement("input",{className:"task-title",onChange:function(t){var e=t.target.value;return m(e)},value:d||""}),c.a.createElement("button",{className:"task-title-edit",type:"button",onClick:function(){r({id:n,title:d}),o(),m("")}},"edit"))))},kt=function(t){var e=t.isOpen,n=t.listId,o=t.onClose,r=t.onEditTitle,i=t.currentList,s=t.fetchList,u=Object(a.useState)(""),l=Object(f.a)(u,2),d=l[0],m=l[1];Object(a.useEffect)((function(){n&&s({listId:n})}),[n]),Object(a.useEffect)((function(){i&&m(i.title)}),[i]);return c.a.createElement(ut,{isOpen:e,onCancel:o},c.a.createElement("div",{className:"modal-list-info"},c.a.createElement("div",{className:"list-info"},c.a.createElement("input",{className:"list-title",onChange:function(t){var e=t.target.value;return m(e)},value:d||""}),c.a.createElement("button",{className:"list-title-edit",type:"button",onClick:function(){r({listId:n,title:d}),o(),m("")}},"edit"))))},Et=function(t){var e=t.isOpen,n=t.onClose,o=t.onSubmit,r=Object(a.useState)(""),i=Object(f.a)(r,2),s=i[0],u=i[1],l=Object(a.useState)(""),d=Object(f.a)(l,2),m=d[0],p=d[1],b=Object(a.useState)(""),h=Object(f.a)(b,2),k=h[0],E=h[1];return c.a.createElement(ut,{isOpen:e,onCancel:n},c.a.createElement("form",{className:"to-do-sign-up-form",onSubmit:function(t){t.preventDefault(),m===k&&s&&m.length>5?o({email:s,password:m}):alert("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442 \u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u043c\u0435\u043d\u044c\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432."),n()}},c.a.createElement("input",{type:"email",className:"to-do-sign-up-form-email",placeholder:"email",value:s,onChange:function(t){var e=t.target.value;return u(e)}}),c.a.createElement("input",{type:"password",className:"to-do-sign-up-from-pass",placeholder:"password",value:m,onChange:function(t){var e=t.target.value;return p(e)}}),c.a.createElement("input",{type:"password",className:"to-do-sign-up-from-re-pass",placeholder:"repeat password",value:k,onChange:function(t){var e=t.target.value;return E(e)}}),c.a.createElement("input",{type:"submit",className:"to-do-sign-up-from-submit",value:"sign up"})))},vt=function(t){var e=t.isOpen,n=t.onClose,o=t.onSubmit,r=Object(a.useState)(""),i=Object(f.a)(r,2),s=i[0],u=i[1],l=Object(a.useState)(""),d=Object(f.a)(l,2),m=d[0],p=d[1];return c.a.createElement(ut,{isOpen:e,onCancel:n},c.a.createElement("form",{className:"to-do-log-in-form",onSubmit:function(t){t.preventDefault(),s&&m&&o({email:s,password:m}),n()}},c.a.createElement("input",{type:"email",className:"to-do-log-in-form-email",placeholder:"email",value:s,onChange:function(t){var e=t.target.value;return u(e)}}),c.a.createElement("input",{type:"password",className:"to-do-log-in-from-pass",placeholder:"password",value:m,onChange:function(t){var e=t.target.value;return p(e)}}),c.a.createElement("input",{type:"submit",className:"to-do-log-in-from-submit",value:"log in"})))},Tt=(n(57),function(t){var e=t.boards,n=t.setCurrentBoard,o=t.onAddBoard,r=t.onDeleteBoard,i=Object(a.useState)(!1),s=Object(f.a)(i,2),u=s[0],l=s[1],d=function(){return l(!u)},m=u?"opened":"",p=window.innerWidth<375&&!u?"hidden":"";return c.a.createElement("div",{className:"boards-list-wrapper ".concat(m),onClick:function(t){t.persist(),-1!==t.target.className.indexOf("boards-list-wrapper")&&d()}},c.a.createElement("div",{className:"borads-list"},c.a.createElement("button",{className:"board-toggle-btn board-btn board-item",type:"submit",onClick:d},c.a.createElement("div",{className:"burger"},c.a.createElement("span",{className:"burger__line"}),c.a.createElement("span",{className:"burger__line"}),c.a.createElement("span",{className:"burger__line"}))),c.a.createElement("div",{className:"board-items ".concat(p)},c.a.createElement("button",{className:"board-item board-btn",key:"all",type:"submit",onClick:function(){return n(0)}},"all"),e&&e.map((function(t,e){var a=Object(f.a)(t,2),o=a[0],i=a[1].title;return c.a.createElement("div",{className:"board-item",key:o},c.a.createElement("button",{className:"board-item-btn board-btn ".concat(m),type:"submit",onClick:function(){return n(o)}},u?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"board-btn-num"},e+1,"."),c.a.createElement("span",null,i)):e+1),c.a.createElement("button",{className:"board-delete-btn board-btn",type:"submit",onClick:function(){return r({boardId:o})}},"del"))})),c.a.createElement("button",{className:"boards-list-button board-btn board-item",key:"add",type:"submit",onClick:o},"+"))))}),Ot=(n(58),window.innerWidth<375?"small":""),jt={addTask:function(t){return function(e,n){var a=n().user,c=a.id,o=a.token,r=t.title,i=t.checked,s=t.listId,u=t.temporaryId,l={title:r,checked:i,listId:s};fetch("".concat(R,"users/").concat(c,"/tasks.json?auth=").concat(o),{method:"POST","Content-Type":"application/json",body:JSON.stringify(l)}).then((function(t){return t.json()})).then((function(t){return K(t)?e(P()):t})).then((function(t){var n=t.name;return e(function(t){var e=t.id;return{type:"EDIT_TASK_ID",newId:t.newId,id:e}}({newId:n,id:u}))}))}},removeTask:function(t){return function(e,n){var a=t.id,c=n().user,o=c.id,r=c.token;fetch("".concat(R,"users/").concat(o,"/tasks/").concat(a,".json?auth=").concat(r),{method:"DELETE","Content-Type":"application/json"})}},checkTask:function(t){return function(e,n){var a=t.id,c=n(),o=c.user,r=c.tasks,i=o.id,s=o.token,u=r.find((function(t){return t[0]===a}))[1].checked;fetch("".concat(R,"users/").concat(i,"/tasks/").concat(a,".json?auth=").concat(s),{method:"PATCH","Content-Type":"application/json",body:JSON.stringify({checked:!u})}).then((function(t){return t.json()})).then((function(t){return K(t)?e(P()):t}))}},moveTask:function(t){return function(e,n){var a=t.listId,c=t.itemId,o=n().user,r=o.id,i=o.token;fetch("".concat(R,"users/").concat(r,"/tasks/").concat(c,".json?auth=").concat(i),{method:"PATCH","Content-Type":"application/json",body:JSON.stringify({listId:a})}).then((function(t){return t.json()})).then((function(t){return K(t)?e(P()):t}))}},deleteTasksLocal:function(t){return{type:"DELETE_TASKS",listId:t.listId}},editTaskTitle:function(t){return function(e,n){var a=t.title,c=t.id,o=n().user,r=o.id,i=o.token;fetch("".concat(R,"users/").concat(r,"/tasks/").concat(c,".json?auth=").concat(i),{method:"PATCH","Content-Type":"application/json",body:JSON.stringify({title:a})}).then((function(t){return t.json()})).then((function(t){return K(t)?e(P()):t}))}},addTaskLocal:function(t){return{type:"ADD_TASK",listId:t.listId,title:t.title,id:t.id,checked:!1}},removeTaskLocal:function(t){return{type:"REMOVE_TASK",id:t.id}},checkTaskLocal:function(t){return{type:"CHECK_TASK",id:t.id}},moveTaskLocal:function(t){return{type:"MOVE_TASK",listId:t.listId,id:t.itemId}},editTaskTitleLocal:function(t){return{type:"EDIT_TASK_TITLE",id:t.id,title:t.title}},fetchTasks:J,fetchTask:function(t){return function(e,n){var a=t.taskId,c=n().user,o=c.id,r=c.token;fetch("".concat(R,"users/").concat(o,"/tasks/").concat(a,".json?auth=").concat(r),{method:"GET","Content-Type":"application/json"}).then((function(t){return t.json()})).then((function(t){return K(t)?e(P()):t})).then((function(t){B(t)&&e({type:"SET_CURRENT_TASK",currentTask:t})}))}}},It={addList:function(t){return function(e,n){var a=n().user,c=a.id,o=a.token,r=t.title,i=t.boardId,s=t.temporaryId,u={title:r,boardId:i};fetch("".concat(R,"users/").concat(c,"/lists.json?auth=").concat(o),{method:"POST","Content-Type":"application/json",body:JSON.stringify(u)}).then((function(t){return t.json()})).then((function(t){return K(t)?e(P()):t})).then((function(t){var n=t.name;return e(function(t){var e=t.listId;return{type:"EDIT_LIST_ID",newId:t.newId,listId:e}}({listId:s,newId:n}))}))}},removeList:function(t){return function(e,n){var a=t.listId,c=n().user,o=c.id,r=c.token;fetch("".concat(R,"users/").concat(o,"/lists/").concat(a,".json?auth=").concat(r),{method:"DELETE","Content-Type":"application/json"}).then((function(t){return t.json()})).then((function(t){return K(t)?e(P()):t})).then((function(){return e(function(t){return function(e,n){var a=t.listId,c=n(),o=c.user,r=c.tasks,i=o.id,s=o.token;r.filter((function(t){return Object(f.a)(t,2)[1].listId===a})).forEach((function(t){var n=Object(f.a)(t,1)[0];fetch("".concat(R,"users/").concat(i,"/tasks/").concat(n,".json?auth=").concat(s),{method:"DELETE","Content-Type":"application/json"}).then((function(t){return t.json()})).then((function(t){return K(t)?e(P()):t}))}))}}({listId:a}))}))}},editListTitle:function(t){return function(e,n){var a=t.title,c=t.listId,o=n().user,r=o.id,i=o.token;fetch("".concat(R,"users/").concat(r,"/lists/").concat(c,".json?auth=").concat(i),{method:"PATCH","Content-Type":"application/json",body:JSON.stringify({title:a})}).then((function(t){return t.json()})).then((function(t){return K(t)?e(P()):t}))}},addListLocal:function(t){return{type:"ADD_LIST",listId:t.listId,title:t.title,boardId:t.boardId}},removeListLocal:function(t){return{type:"REMOVE_LIST",listId:t.listId}},editListTitleLocal:function(t){return{type:"EDIT_LIST_TITLE",listId:t.listId,title:t.title}},fetchList:function(t){return function(e,n){var a=t.listId,c=n().user,o=c.id,r=c.token;fetch("".concat(R,"users/").concat(o,"/lists/").concat(a,".json?auth=").concat(r),{method:"GET","Content-Type":"application/json"}).then((function(t){return t.json()})).then((function(t){return K(t)?e(P()):t})).then((function(t){B(t)&&e({type:"SET_CURRENT_LIST",currentList:t})}))}},fetchLists:H},yt={addBoard:function(t){return function(e,n){var a=n().user,c=a.id,o=a.token,r=t.title,i=t.temporaryId,s={title:r};fetch("".concat(R,"users/").concat(c,"/boards.json?auth=").concat(o),{method:"POST","Content-Type":"application/json",body:JSON.stringify(s)}).then((function(t){return t.json()})).then((function(t){return K(t)?e(P()):t})).then((function(t){var n,a=t.name;return e({type:"EDIT_BOARD_ID",boardId:(n={boardId:i,newId:a}).boardId,newId:n.newId})}))}},removeBoard:function(t){return function(e,n){var a=t.boardId,c=n().user,o=c.id,r=c.token;fetch("".concat(R,"users/").concat(o,"/boards/").concat(a,".json?auth=").concat(r),{method:"DELETE","Content-Type":"application/json"}).then((function(t){return t.json()})).then((function(t){return K(t)?e(P()):t}))}},fetchBoards:M,addBoardLocal:function(t){return{type:"ADD_BOARD",boardId:t.boardId,title:t.title}},removeBoardLocal:function(t){return{type:"REMOVE_BOARD",boardId:t.boardId}}},St={registerUser:function(t){var e=t.email,n=t.password;return function(t){fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat(w),{method:"POST","Content-Type":"application/json",body:JSON.stringify({email:e,password:n})}).then((function(t){return t.json()})).then((function(e){var n=e.idToken,a=e.localId,c=e.refreshToken;t(L(n)),t(A(c)),t(D(a))}))}},loginUser:function(t){var e=t.email,n=t.password;return function(t){fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat(w),{method:"POST","Content-Type":"application/json",body:JSON.stringify({email:e,password:n,returnSecureToken:!0})}).then((function(t){return t.json()})).then((function(e){var n=e.idToken,a=e.localId,c=e.refreshToken;t(L(n)),t(A(c)),t(D(a)),t(J()),t(H()),t(M())}))}},logoutUser:function(){return{type:"LOGOUT_USER"}}},gt=Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},jt),It),yt),St),Ct=Object(i.b)((function(t){return{lists:t.lists,tasks:t.tasks,boards:t.boards,user:t.user,currentTask:t.currentTask,currentList:t.currentList}}),gt)((function(t){var e=t.lists,n=t.tasks,o=t.boards,r=t.user,i=t.addTask,s=t.removeTask,u=t.checkTask,l=t.moveTask,m=t.editTaskTitle,p=t.fetchTasks,b=t.addTaskLocal,h=t.removeTaskLocal,k=t.checkTaskLocal,E=t.moveTaskLocal,v=t.editTaskTitleLocal,T=t.currentTask,O=t.addList,j=t.removeList,I=t.editListTitle,y=t.fetchLists,S=t.fetchList,g=t.currentList,C=t.addListLocal,N=t.removeListLocal,_=t.editListTitleLocal,L=t.addBoardLocal,D=t.removeBoardLocal,A=t.addBoard,w=t.removeBoard,R=t.fetchBoards,B=t.fetchTask,K=t.registerUser,U=t.loginUser,P=t.logoutUser,J=Object(a.useState)(!1),H=Object(f.a)(J,2),M=H[0],V=H[1],x=Object(a.useState)(!1),G=Object(f.a)(x,2),F=G[0],z=G[1],Z=Object(a.useState)(!1),q=Object(f.a)(Z,2),Q=q[0],Y=q[1],$=Object(a.useState)(!1),tt=Object(f.a)($,2),et=tt[0],at=tt[1],ct=Object(a.useState)(!1),ot=Object(f.a)(ct,2),rt=ot[0],it=ot[1],st=Object(a.useState)(!1),ut=Object(f.a)(st,2),lt=ut[0],ft=ut[1],pt=Object(a.useState)(!1),jt=Object(f.a)(pt,2),It=jt[0],yt=jt[1],St=Object(a.useState)(0),gt=Object(f.a)(St,2),Ct=gt[0],Nt=gt[1],_t=Object(a.useState)(0),Lt=Object(f.a)(_t,2),Dt=Lt[0],At=Lt[1],wt=Object(a.useState)(0),Rt=Object(f.a)(wt,2),Bt=Rt[0],Kt=Rt[1];Object(a.useEffect)((function(){p(),y(),R()}),[]);var Ut=function(){return V(!M)},Pt=function(){return z(!F)},Jt=function(){return Y(!Q)},Ht=function(){return at(!et)},Mt=function(){return it(!rt)},Vt=function(){return ft(!lt)},xt=function(){return yt(!It)},Gt=function(t,e){return function(t,e){var n={itemId:t.itemId,listId:e};l(n),E(n)}(t,e)},Wt=function(t){Pt(),At(t)},Ft=function(t){j({listId:t}),N({listId:t})},zt=function(t){s(t),h(t)},Xt=function(t){Nt(t),Ht()},Zt=function(t){At(t),Mt()},qt=function(t){u(t),k(t)},Qt=""!==r.token;return c.a.createElement("div",{className:"to-do-app"},c.a.createElement(Tt,{boards:o,onAddBoard:function(){Jt()},onDeleteBoard:function(t){w(t),D(t)},setCurrentBoard:Kt}),c.a.createElement("div",{className:"content"},c.a.createElement(X,null,c.a.createElement("div",{className:"todo-btns"},c.a.createElement(W,{className:"to-do-add-list",onClick:Ut},"add list"),c.a.createElement("div",{className:"auth-btns"},!Qt&&c.a.createElement(W,{className:"to-do-log-in",onClick:xt},"Log In"),!Qt&&c.a.createElement(W,{className:"to-do-sign-up",onClick:Vt},"Sign Up"),Qt&&c.a.createElement(W,{className:"to-do-log-out",onClick:function(){P(),p(),y(),R()}},"Log Out")))),c.a.createElement("div",{className:"to-do-app-lists ".concat(Ot)},e.filter((function(t){var e=Object(f.a)(t,2)[1];return 0===Bt||e.boardId===Bt})).map((function(t){var e=Object(f.a)(t,2),a=e[0],o=e[1].title;return c.a.createElement(nt,{key:a,listId:a,title:o,tasks:n,removeList:Ft,onAddTask:Wt,checkTask:qt,removeTask:zt,onItemDrop:Gt,onTaskClick:Xt,onOpenListInfo:Zt})}))),c.a.createElement(dt,{isOpen:M,onAccept:function(t){var e=String(Date.now()),n={title:t,boardId:Bt};O(Object(d.a)(Object(d.a)({},n),{},{temporaryId:e})),C(Object(d.a)(Object(d.a)({},n),{},{listId:e}))},onCancel:Ut}),c.a.createElement(mt,{isOpen:F,onAccept:function(t){var e=String(Date.now()),n={listId:Dt,checked:!1,title:t};i(Object(d.a)(Object(d.a)({},n),{},{temporaryId:e})),b(Object(d.a)(Object(d.a)({},n),{},{id:e}))},onCancel:Pt}),c.a.createElement(bt,{isOpen:Q,onAccept:function(t){var e=String(Date.now()),n={title:t};L(Object(d.a)(Object(d.a)({},n),{},{boardId:e})),A(Object(d.a)(Object(d.a)({},n),{},{temporaryId:e}))},onCancel:Jt}),c.a.createElement(ht,{isOpen:et,taskId:Ct,tasks:n,onClose:function(){return Ht()},onEditTitle:function(t){m(t),v(t)},fetchTask:B,currentTask:T}),c.a.createElement(kt,{isOpen:rt,listId:Dt,lists:e,onClose:function(){return Mt()},onEditTitle:function(t){I(t),_(t)},fetchList:S,currentList:g}),c.a.createElement(Et,{isOpen:lt,onClose:function(){return Vt()},onSubmit:function(t){return K(t)}}),c.a.createElement(vt,{isOpen:It,onClose:function(){return xt()},onSubmit:function(t){return U(t)}})))}));n(59);var Nt=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(N.a,{backend:_.a},c.a.createElement(Ct,null)))};r.a.render(c.a.createElement(i.a,{store:C},c.a.createElement(Nt,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.5c39490d.chunk.js.map